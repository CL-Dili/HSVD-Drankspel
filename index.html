<!DOCTYPE html>
<html lang="nl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#ed1c24" />
    <title>HSV Diligentia · Drankspel</title>
    <style>
      :root { --brand: #ed1c24; --text: #fff; --bg: var(--brand); }
      html, body { height: 100%; }
      /* Base */
      body {
        margin: 0;
        background: var(--bg);
        color: var(--text);
        font-family: "Graphik", "Helvetica Neue", Helvetica, Arial, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        display: grid;
        place-items: center;
      }
      .wrap {
        width: min(880px, 92vw);
        text-align: center;
        padding: calc(24px + env(safe-area-inset-top)) 16px calc(40px + env(safe-area-inset-bottom));
      }
      h1 { margin: 0 0 6px; font-size: clamp(28px, 6vw, 56px); font-style: italic; letter-spacing: 0.2px; }
      h2 { margin: 0 0 28px; font-size: clamp(16px, 3.2vw, 28px); font-weight: 500; opacity: 0.95; }

      /* Buttons */
      .controls { display: grid; grid-template-columns: 1fr; gap: 12px; justify-items: center; }
      .row { display: grid; grid-auto-flow: column; gap: 10px; width: 100%; justify-content: center; }

      button {
        appearance: none;
        background: #fff;
        color: var(--brand);
        border: none;
        border-radius: 999px;
        padding: 14px 28px;
        font: 600 18px/1 "Graphik", "Helvetica Neue", Helvetica, Arial, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        cursor: pointer;
        transition: transform 120ms ease, box-shadow 120ms ease, opacity 120ms ease;
        box-shadow: 0 4px 18px rgba(0,0,0,0.18);
      }
      button:hover { transform: translateY(-1px); }
      button:active { transform: translateY(0); opacity: 0.9; }
      button:focus { outline: 3px solid #fff; outline-offset: 4px; }
      button.secondary { background: rgba(255,255,255,0.12); color: #fff; backdrop-filter: blur(2px); }
      button.secondary:focus { outline-color: rgba(255,255,255,0.8); }

      /* Mobile-first sizing */
      @media (max-width: 520px) {
        .row { grid-auto-flow: row; }
        button { width: 100%; padding: 16px 22px; font-size: 18px; }
      }

      /* Prompt */
      #prompt { 
        margin-top: 22px; 
        min-height: 2.8em; 
        font-size: clamp(18px, 3.9vw, 28px); 
        line-height: 1.35; 
        font-weight: 600; 
        white-space: pre-wrap; 
        padding: 8px 6px; 
      }
      .content { padding: 0 6px; }

      /* Fade-in for new prompt, respect reduced motion */
      .fade { opacity: 0; transform: translateY(6px); }
      .fade.show { opacity: 1; transform: none; transition: opacity 180ms ease, transform 180ms ease; }
      @media (prefers-reduced-motion: reduce) {
        .fade, .fade.show { transition: none; transform: none; }
      }

      /* Tap-anywhere helper area on small screens */
      .tapanywhere { margin-top: 8px; font-size: 13px; opacity: 0.8; }
    </style>
  </head>
  <body>
    <main class="wrap" role="main">
      <div class="content" id="content">
        <h1>HSV Diligentia</h1>
        <h2>Drankspel</h2>
        <div class="controls" aria-label="Bediening">
          <div class="row">
            <button id="drawBtn" type="button" aria-controls="prompt" title="Volgende prompt">Volgende</button>
            <button id="undoBtn" type="button" class="secondary" title="Vorige prompt (één stap terug)">Terug</button>
          </div></div>
        <div id="prompt" class="fade" aria-live="polite"></div>
        <div class="tapanywhere" aria-hidden="true">Tip: tik ergens op het scherm of druk op spatie/enter voor de volgende.</div>
      </div>
    </main>

    <script>
      // --- Data ---
      const PROMPTS = [
        "Roast iemand links van je. Als je te lief bent, neem 2 slokken.",
        "Wie in de groep doet altijd alsof ze meer weten dan ze echt doen? Die neemt 2 slokken.",
        "Kies iemand waarvan je denkt dat ze de slechtste pick-up lines hebben. Die moet er eentje zeggen of drinken.",
        "Iedereen die ooit een ex teruggenomen heeft: neem een slok.",
        "Vertel wie volgens jou de grootste dramaqueen is, en waarom. Die neemt een slok.",
        "Roast de persoon tegenover je. Als de groep niet lacht, drink jij.",
        "Kies iemand die vanaf nu jouw 'sexy wingman/wingwoman' is. Jullie drinken samen.",
        "Wie van de groep zou het slechtst zijn in bed? Die neemt 2 slokken.",
        "Iedereen die ooit een beschamende sext heeft gestuurd: neem een slok.",
        "Doe je beste (of slechtste) verleidelijke blik naar de groep. Als er gelachen wordt, neem 2 slokken.",
        "Wijs iemand aan die volgens jou het meest waarschijnlijk vreemdgaat. Die neemt een slok.",
        "Vertel een gênant verhaal over je liefdesleven of neem 2 slokken.",
        "Iedereen die ooit een dronken zoen heeft gegeven die ze niet meer weten: neem een slok.",
        "Roast de kledingstijl van iemand in de groep. Slachtoffer drinkt mee.",
        "Doe een slechte striptease move of neem 2 slokken.",
        "Wie is volgens jou de grootste flirt in de groep? Die neemt 2 slokken.",
        "Iedereen die ooit iemand 'per ongeluk' geslided in de DM: neem een slok.",
        "Kies iemand die nu hun laatste DM hardop moet lezen of drinken.",
        "Wie in de groep zou je absoluut nooit daten? Die neemt 2 slokken.",
        "Doe een overdreven sexy catwalk. Als je weigert, neem een slok.",
        "Iedereen die ooit een crush had op een onbereikbare celebrity: neem een slok.",
        "Roast iemands dansmoves. Die persoon moet het nu bewijzen of drinken.",
        "Wie hier stuurt de slechtste dronken berichten? Die neemt 2 slokken.",
        "Iedereen die ooit met iemand zoende die ze eigenlijk niet mochten: neem een slok.",
        "Wijs de grootste control freak aan. Die neemt een slok.",
        "Iedereen die ooit een gênante almost-hookup had: neem een slok.",
        "Doe een sexy pose voor de groep. Als er boegeroep komt, neem 2 slokken.",
        "Roast iemands muzieksmaak. Beide drinken.",
        "Iedereen die ooit een spraakmemo stuurde waar ze spijt van hadden: neem een slok.",
        "Kies iemand die nu een slechte pickup line tegen jou moet zeggen. Als het flopt, drinkt diegene.",
        "Iedereen die ooit iemand per ongeluk 'mama' of 'papa' noemde in bed (of bijna): neem 2 slokken.",
        "Wijs iemand aan die het meest waarschijnlijk met een ex opnieuw in bed belandt. Die neemt een slok.",
        "Roast jezelf hardop. Als de groep vindt dat het te soft is, neem 2 slokken.",
        "Iedereen die ooit een beschamende bijnaam had van een partner: neem een slok.",
        "Doe een sexy of stomme blik naar je buur. Als ze lachen, drink jij.",
        "Wie is de meest chaotische dronkaard? Die neemt 2 slokken.",
        "Roast iemands lach. Slachtoffer drinkt ook.",
        "Iedereen die ooit ongepaste emoji's stuurde: neem een slok.",
        "Kies iemand die een geheime guilty pleasure moet opbiechten of drinken.",
        "Wie hier is het meest waarschijnlijk om met de verkeerde persoon wakker te worden? Die neemt een slok.",
        "Doe je slechtste kusgeluid. Als niemand het wil horen, neem 2 slokken.",
        "Iedereen die ooit dronken huilde om een ex: neem een slok.",
        "Wijs iemand aan die de slechtste ochtendkater vibes heeft. Die neemt 2 slokken.",
        "Roast iemands social media gedrag. Slachtoffer drinkt.",
        "Iedereen die ooit een appje verwijderde uit schaamte: neem een slok.",
        "Kies iemand die nu een sexy dansje doet of 2 slokken neemt.",
        "Wie van de groep is de grootste roddelaar? Die neemt een slok.",
        "Iedereen die ooit een verkeerde naam zei tijdens flirten of meer: neem een slok.",
        "Roast iemands kapsel. Als ze beledigd zijn, drink jij.",
        "Iedereen die ooit een crush had op iemand hier: neem een slok.",
        "Doe alsof je iemand in de groep probeert te verleiden. Als niemand onder de indruk is, drink jij.",
        "Wijs iemand aan die volgens jou het meest kansloos dronken wordt. Die neemt 2 slokken.",
        "Iedereen die ooit een beschamende Tindermatch had: neem een slok.",
        "Roast iemand en laat ze zelf ook drinken.",
        "Vertel je stomste dronken verhaal.",
        "Waardoor ging het uit bij je vorige relatie? Drink er op.",
        "Wie heeft de smerigste quotes? Die neemt een slok.",
        "Wie heeft de grappigste quotes? Die neemt een slok.",
        "Wie kan het minst hebben? Die neemt een slok.",
        "Wie kan het slechtst dingen voor zichzelf houden? Die neemt een slok.",
        "Wie laat de meeste glazen sneuvelen? Die neemt een slok.",
        "Wie misbruikt zijn/haar rol als VM het meest? Die neemt een slok.",
        "Van de niet-VM's, wie zou zijn/haar rol als VM misbruiken als hij/zij dit zou worden? Die neemt een slok.",
        "Wie zou als het eerst geneigd zijn om in het biertje van een gast te spugen als die onbeleefd doet? Die neemt een slok.",
        "Wie is de grootste kakker? Die neemt een slok. Veaux.",
        "Wie is de grootste tokkie? Die neemt een slok.",
        "Wie blèf d’r waarschèènlik de res van z’n lèèèèève in De Haag wôôônne dan? Die neemt een slok.",
        "Wie zou op een terras als eerste een karne-j'us bestellen? Die neemt een slok.",
        "Wie staat nu 100% zeker op een lijst van de AIVD? Die neemt een slok.",
        "Wie heeft thuis waarschijnlijk de meeste paar schoenen? Die neemt een slok.",
        "Wie heeft het meest nodig om op zijn/haar handen een L en R te schrijven om Links en Rechts uit elkaar te houden? Die neemt een slok. Per hand.",
        "Wie wordt later de Rick Wagenvoort van Diligentia? Die neemt een slok. Met v/d Laan en Woe.",
        "Iedereen met een voornaam die begint met een klinker neemt een slok.",
        "Ooit dronken een selfie gepost op Insta of Snap? Neem een slok.",
        "Iedereen die jonger is dan de groepsgemiddelde neemt een slok. Arme Avelyn...",
        "Iedereen die ooit een tactisch barfje heeft gelegd op een Dili weekend neemt een slok!",
        "Iedereen die wel eens 'Ik ben er bijna' heeft gestuurd maar eigenlijk nog thuis was: neem een slok.",
        "Doe je favoriete VM na. Die mag ook een slok nemen.",
        "Met wie hier zou je nooit op vakantie willen gaan, en waarom?",
        "Doe tien jumping jacks. Vergeet je te tellen, neem een slok.",
        "Doe alsof je een dronken flamingo bent tot je volgende beurt.",
        "Fluister een roddel naar je buur. Als die lacht, moet die drinken.",
        "Je hebt net de HSV Dili award gewonnen voor 'Beste Deelnemer. Geef een gepassioneerde speech.",
        "Met wie hier zou jij het meest waarschijnlijk dronken zoenen?",
        "Als je ooit een bericht hebt teruggelezen en dacht 'Waarom stuurde ik dit?', neem 2 slokken.",
        "Wie het laatst heeft gedoucht geeft iemand anders een slok.",
        "Iedereen die de naam van hun ex NIET wil horen, neemt een slok.",
        "Wat is de domste smoes die je ooit gebruikte om onder werk uit te komen? #Evenwichtsstoornis",
        "Heb je ooit een date geghost? Vertel of drink.",
        "Als je moest trouwen met iemand hier, wie zou het zijn?",
        "Laat je telefoon rondgaan met alleen je foto's app open. Durf je dat niet? Drink 4 slokken.",
        "Zing de laatste zin die je hebt getypt in What's App. Of neem een romige slok.",
        "Je linker buur kiest een woord. Jij moet dat woord in elk antwoord gebruiken tot je volgende beurt. Vergeet je het, een slok per keer.",
        "Doe de Nick-hand.",
        "Wat is je beste walk-of-shame verhaal?",
        "Roast de persoon links van je minimaal 15 seconden.",
        "Noem 10 landen in 15 seconden. Drink per land wat je tekort komt een slok.",
        "De persoon met de oudste telefoon hier neemt 2 slokken.",
        "Iedereen die een abbo heeft op minstens drie verschillende streamingdiensten, neem een slok per.",
        "Wie vandaag het meeste klaagde over moe zijn: drink 2 slokken.",
        "Wie in de groep zou het meest kansloos zijn op Temptation Island?",
        "Doe 10 squats.",
        "Verzin een koosnaampje voor je overbuur. Iedereen moet dit gebruiken om hem/haar aan te spreken de rest van het spel, op laste van een slok.",
        "Iedereen die afgelopen week te laat is gaan slapen door Insta of TikTok, neem een slok.",
        "Iedereen die een koffieverslaving ontkent maar eentje hééft, neem een slok.",
        "Als je ooit 'per ongeluk' de verkeerde persoon een appje of Snapchat stuurde, neem 2 slokken.",
        "Degene met de lelijkste sokken, neem een slok per sok.",
        "Degene met de minste drank in hun glas/fles, maak het op.",
        "Iedereen die nog steeds foto's van hun ex op hun telefoon heeft, neem 4 slokken. Daar ga je, Carolus.",
        "Wie heeft de slechtste dansmoves hier? Die neemt een slok.",
        "Iedereen die meer dan 3 exen heeft, neemt een slok per ex.",
        "Wie heeft al zijn/haar drankje omgetyft? Die neemt een goeie slok.",
        "Iedereen die ooit een nep-account heeft gebruikt om iemand te stalken, neem een slok.",
        "Als je ooit je vrienden hebt laten zitten omdat je 'te brak' was, neem een paar slokken.",
        "Iedereen die zichzelf te vaak 'ik ben chaotisch, of ADHD, weet ik het, de schuld geeft van bepaald gedrag...shotje!",
        "Op wie hier moet je het langst wachten op een reactie? Die neemt een slok!",
        "Degene die het snelst jaloers wordt mag 2 jaloersmakende slokken...water nemen!",
        "Wie de meest hopeloze flirt is, neem een slok.",
        "Iedereen die zich nu aangesproken voelt, neem een slok."
      ];

      // --- Helpers ---
      const $ = (sel) => document.querySelector(sel);
      const promptEl = $('#prompt');
      const drawBtn = $('#drawBtn');
      const undoBtn = $('#undoBtn');
      const contentEl = $('#content');

      function shuffle(array) {
        const a = array.slice();
        for (let i = a.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [a[i], a[j]] = [a[j], a[i]];
        }
        return a;
      }

      // Persist cycle + index so a reload mid-game doesn't instantly repeat
      let cycle = [];
      let idx = 0;
      let history = [];

      function saveState() {
        localStorage.setItem('dili_cycle', JSON.stringify(cycle));
        localStorage.setItem('dili_idx', String(idx));
        localStorage.setItem('dili_hist', JSON.stringify(history));
      }
      function loadState() {
        try {
          const c = JSON.parse(localStorage.getItem('dili_cycle') || 'null');
          const i = parseInt(localStorage.getItem('dili_idx') || '0', 10);
          const h = JSON.parse(localStorage.getItem('dili_hist') || '[]');
          if (Array.isArray(c) && c.length) { cycle = c; idx = Math.min(Math.max(0, i), c.length); history = h || []; }
        } catch { /* no-op */ }
      }

      function resetCycle() {
        cycle = shuffle(PROMPTS);
        idx = 0;
        history = [];
        saveState();
      }

      function setPrompt(text) {
        // fade-in
        promptEl.classList.remove('show');
        // next frame
        requestAnimationFrame(() => {
          promptEl.textContent = text;
          promptEl.classList.add('show');
        });
      }

      function nextPrompt({vibrate=true} = {}) {
        if (!cycle.length || idx >= cycle.length) {
          resetCycle();
        }
        const text = cycle[idx++];
        history.push(text);
        saveState();
        setPrompt(text);
        if (vibrate && 'vibrate' in navigator) navigator.vibrate(10);
      }

      function prevPrompt() {
        if (history.length <= 1) return; // nothing to go back to
        // current is last shown; remove it and step idx back
        history.pop();
        idx = Math.max(0, idx - 1);
        const prev = history[history.length - 1] || cycle[idx - 1] || '';
        saveState();
        setPrompt(prev);
      }

      async function shareCurrent() {
        const text = promptEl.textContent.trim();
        if (!text) return;
        const title = 'HSV Diligentia · Drankspel';
        try {
          if (navigator.share) {
            await navigator.share({ title, text });
          } else {
            await navigator.clipboard.writeText(text);
            toast('Gekopieerd naar klembord');
          }
        } catch (e) {
          // user cancelled share; ignore
        }
      }

      async function copyCurrent() {
        const text = promptEl.textContent.trim();
        if (!text) return;
        try {
          await navigator.clipboard.writeText(text);
          toast('Gekopieerd naar klembord');
        } catch {
          toast('Kopiëren mislukt');
        }
      }

      function toast(msg) {
        const el = document.createElement('div');
        el.textContent = msg;
        Object.assign(el.style, {
          position: 'fixed',
          left: '50%',
          bottom: `calc(18px + env(safe-area-inset-bottom))`,
          transform: 'translateX(-50%)',
          background: 'rgba(0,0,0,0.7)',
          color: '#fff',
          padding: '10px 14px',
          borderRadius: '999px',
          font: '500 14px/1 system-ui, -apple-system, Segoe UI, Roboto, Arial',
          zIndex: 999,
          opacity: 0,
          transition: 'opacity 160ms ease',
        });
        document.body.appendChild(el);
        requestAnimationFrame(() => { el.style.opacity = 1; });
        setTimeout(() => { el.style.opacity = 0; setTimeout(() => el.remove(), 180); }, 1400);
      }

      // --- Events ---
      drawBtn.addEventListener('click', () => nextPrompt());
      undoBtn.addEventListener('click', prevPrompt);

      // Tap anywhere to advance
      contentEl.addEventListener('click', (e) => {
        const tag = (e.target.tagName || '').toLowerCase();
        if (tag === 'button') return; // regular button handlers
        nextPrompt();
      });

      // Keyboard shortcuts: Space / Enter -> next, Backspace / ArrowLeft -> prev
      window.addEventListener('keydown', (e) => {
        const key = e.key;
        if (key === ' ' || key === 'Spacebar' || key === 'Enter') { e.preventDefault(); nextPrompt({vibrate:false}); }
        if (key === 'Backspace' || key === 'ArrowLeft') { e.preventDefault(); prevPrompt(); }
      });

      // Load state and show first prompt
      loadState();
      if (!cycle.length) resetCycle();
      if (history.length) {
        setPrompt(history[history.length - 1]);
      } else {
        nextPrompt({vibrate:false});
      }

      // Ensure fade class is present for initial render
      requestAnimationFrame(() => promptEl.classList.add('show'));
    </script>
  </body>
</html>
